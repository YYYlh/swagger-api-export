<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #data {
            display: none;
        }
        .h1 {
            text-align: center;
        }
        .parent {
            font-size: 20px;
        }
        .child {
            margin: 10px 0 0 40px ;
            font-size: 16px;
        }
        .parentSpan2, .childSpan2 {
            color: #27ae60
        }
    </style>
</head>
<body>
    $data
    <h1 class="h1"></h1>
    <h2 class="h2"></h2>
    <div id="lh-content"></div>
</body>
<script>
    !function() {
        const dataDom = document.body.querySelector('#data')
        const h1 = document.querySelector('.h1')
        const h2 = document.querySelector('.h2')
        const serverData = JSON.parse(dataDom.innerHTML)
        const {baseUrl, title, apis} = serverData
        h1.innerText = title
        h2.innerText = baseUrl
        let contentDom = document.querySelector('#lh-content')
        for (let i = 0, len = apis.length; i < len; i++) {
            const parentDom = document.createElement('div')
            parentDom.className = "parent"
            const parentSpan1 = document.createElement('span')
            const parentSpan2 = document.createElement('span')
            parentSpan2.className = 'parentSpan2'
            parentSpan1.innerText = apis[i].name
            parentSpan2.innerText = `      //   ${apis[i].description}`
            parentDom.appendChild(parentSpan1)
            parentDom.appendChild(parentSpan2)
            for (let j = 0, len = apis[i].list.length; j < len; j++) {
                let cur = apis[i].list[j]
                const childDom = document.createElement('div')
                childDom.className = "child"
                const childSpan1 = document.createElement('span')
                const childSpan2 = document.createElement('span')
                childSpan2.className = 'childSpan2'
                childSpan1.innerText = baseUrl + cur.url
                childSpan2.innerText = `     //   ${cur.summary}`
                childDom.appendChild(childSpan1)
                childDom.appendChild(childSpan2)
                parentDom.appendChild(childDom)
            }
            contentDom.appendChild(parentDom)
        }
        console.log('11', contentDom);
        const vscode = acquireVsCodeApi()
        vscode.postMessage({
            command: 'alert',
            text: apis
        })
    }()

    /* function createElement(node, value) {
        let result = document.createElement(node)
        result.innerHTML = value
    } */
</script>
</html>